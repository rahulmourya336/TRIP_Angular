$(function(){
  $(".fab,.backdrop").click(function(){
    if($(".backdrop").is(":visible")){
      $(".backdrop").fadeOut(125);
      $(".fab.child")
        .stop()
        .animate({
          bottom	: $("#masterfab").css("bottom"),
          opacity	: 0
        },125,function(){
          $(this).hide();
        });
    }else{
      $(".backdrop").fadeIn(125);
      $(".fab.child").each(function(){
        $(this)
          .stop()
          .show()
          .animate({
            bottom	: (parseInt($("#masterfab").css("bottom")) + parseInt($("#masterfab").outerHeight()) + 70 * $(this).data("subitem") - $(".fab.child").outerHeight()) + "px",
            opacity	: 1
          },125);
      });
    }
  });
});
